<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>泷汐の精神时光屋 - 既来之，则安之。</title><meta name="keywords" content="个人博客"><meta name="author" content="TideDra,GearyZhang@outlook.com"><meta name="copyright" content="TideDra"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="东南大学吴健雄学院在读本科生">
<meta property="og:type" content="website">
<meta property="og:title" content="泷汐の精神时光屋">
<meta property="og:url" content="https://tidedra.github.io/index.html">
<meta property="og:site_name" content="泷汐の精神时光屋">
<meta property="og:description" content="东南大学吴健雄学院在读本科生">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://img.zsaqwq.com/images/2022/03/26/girl.jpg">
<meta property="article:author" content="TideDra">
<meta property="article:tag" content="个人博客">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://img.zsaqwq.com/images/2022/03/26/girl.jpg"><link rel="shortcut icon" href="/img/business-man.png"><link rel="canonical" href="https://tidedra.github.io/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><meta name="google-site-verification" content="ev-WLSJNE26pCrlvY2Pg6U4IEX9_RPuCr1PkKJ5oewo"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@6/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: {"appId":"S2H9LOYZXK","apiKey":"afe57ba6d261bf3d2627d49ad352458c","indexName":"MyBlog","hits":{"per_page":6},"languages":{"input_placeholder":"搜索文章","hits_empty":"找不到您查询的内容：${query}","hits_stats":"找到 ${hits} 条结果，用时 ${time} 毫秒"}},
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: {"chs_to_cht":"你已切换为繁体","cht_to_chs":"你已切换为简体","day_to_night":"你已切换为深色模式","night_to_day":"你已切换为浅色模式","bgLight":"#49b1f5","bgDark":"#1f1f1f","position":"bottom-center"},
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '泷汐の精神时光屋',
  isPost: false,
  isHome: true,
  isHighlightShrink: false,
  isToc: false,
  postUpdate: '2022-03-30 09:42:34'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.1.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://img.zsaqwq.com/images/2022/03/26/girl.jpg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link"><i class="fa-fw fa-solid fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div></div></div></div><div class="page" id="body-wrap"><header class="full_page" id="page-header" style="background-image: url('https://img.zsaqwq.com/images/2022/03/25/home_top.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">泷汐の精神时光屋</a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="/link"><i class="fa-fw fa-solid fa-link"></i><span> 链接</span></a></div><div class="menus_item"><a class="site-page" href="/artitalk/"><i class="fa-fw fa-solid fa-comments"></i><span> 说说</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="site-info"><h1 id="site-title">泷汐の精神时光屋</h1><div id="site-subtitle"><span id="subtitle"></span></div><div id="site_social_icons"><a class="social-icon" href="https://github.com/TideDra" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:GearyZhang@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="tencent://message/?uin=718525108&amp;Site=&amp;Menu=yes" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a></div></div><div id="scroll-down"><i class="fas fa-angle-down scroll-down-effects"></i></div></header><main class="layout" id="content-inner"><div class="recent-posts" id="recent-posts"><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp2/" title="【机器学习】入门ML？跟着做这几个实验足矣！（二）"><img class="post_bg" src="https://myblog-1308049971.cos.ap-nanjing.myqcloud.com/ML_exp1_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器学习】入门ML？跟着做这几个实验足矣！（二）"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp2/" title="【机器学习】入门ML？跟着做这几个实验足矣！（二）">【机器学习】入门ML？跟着做这几个实验足矣！（二）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-29T16:59:36.000Z" title="发表于 2022-03-30 00:59:36">2022-03-30</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></span></div><div class="content">随机森林
本课程需要使用的module: os, numpy, pandas, tensorflow(2.0.0及以上), matplotlib, sklearn, graphviz, pydotplus, skimage, opencv, seaborn.
目录
0. 课程摘要
1. 决策树
2. 分类决策树
3. 回归决策树
4. 本课任务介绍
- 4.1 MNIST介绍
- 4.2 数据的预处理
5. 随机森林
- 5.1 分类式随机森林
- 5.2 回归式随机森林
- 5.3 预测错误展示
6. 非数据库图片测试
7. 总结
Homework
作业1
作业2
作业3
作业4
作业5
加载library
首先让我们将需要的module准备好。
12!pip install scikit-image!pip install pydotplus
Requirement already satisfied: scikit-image in d:\application\anaconda\lib\site-packages (0.18.3)
Requirement already sat ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/md-recommand/" title="这么多Markdown编辑器，我最终选择了它~"><img class="post_bg" src="https://myblog-1308049971.cos.ap-nanjing.myqcloud.com/md_recommand_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="这么多Markdown编辑器，我最终选择了它~"></a></div><div class="recent-post-info"><a class="article-title" href="/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/md-recommand/" title="这么多Markdown编辑器，我最终选择了它~">这么多Markdown编辑器，我最终选择了它~</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-28T13:46:33.000Z" title="发表于 2022-03-28 21:46:33">2022-03-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/">软件推荐</a></span></div><div class="content">前言
本人是一个完美主义+极简主义+颜控+强迫症的复杂矛盾体，在选择软件的时候经常会犯选择恐惧症。最近博客搭建的差不多了，之后可以专注于写文章了。但是在这之前还需要选择一款称手的写作工具，也就是markdown编辑器。
基于极简主义，或者说“如无必要，无增实体”的奥卡姆剃刀原则，我一直使用VScode集成多个工作环境，譬如写C++，写Python，写Latex，包括写Markdown。对于前三者这种代码元素比较多的工作情景，VScode确实很合适。但是像md这种以内容为主，代码偏少的轻量级标记语言来说，vscode在某些方面还是不能媲美专业的md编辑器。于是笔者开始了漫长（bushi）的寻找最佳md编辑器的历程。本文就我在搜寻过程中比较中意的几款编辑器进行比较，分别是VScode、MarkText、Typora、Zettlr。
介绍
VScode
VScode是一款很流行的文本编辑器，深受程序员们喜爱，包括我自己。它凭借极其丰富的第三方插件社区，几乎可以承担所有编辑工作。VScode原生支持md文档编辑和预览。可以通过安装Markdown Preview Enhancement插件来强 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp1/" title="【机器学习】入门ML？跟着做这几个实验足矣！（一）"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/28/ML_exp1_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器学习】入门ML？跟着做这几个实验足矣！（一）"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp1/" title="【机器学习】入门ML？跟着做这几个实验足矣！（一）">【机器学习】入门ML？跟着做这几个实验足矣！（一）</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-28T07:48:41.000Z" title="发表于 2022-03-28 15:48:41">2022-03-28</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/">机器学习</a></span></div><div class="content">前言
本系列记录《机器学习》课的实验部分。实验所有资料在此下载：百度网盘 提取码：8848
线性回归——音乐年代预测
目录
一. 概述：音乐年代预测与回归问题
二. 数据集的加载与展示
三. 特征筛选与预处理
四. 线性回归
五. 多项式回归
六. 岭回归
一. 概述：音乐年代预测与回归问题
1. 音乐年代预测问题

根据一首音乐的音频特征，推测这首音乐的发行年份。

问题的输入：音乐的特征
问题的输出：发行年份（是一个实数）


音乐年代预测问题是一个比较典型的回归问题。

2. 回归问题（regression）

和分类问题一样，回归问题也是以数据的特征为输入，以数据的标签为输出。
回归与分类的区别

分类模型的输出是离散的、孤立的类别，比如鸢尾花的种类。
回归模型的输出是连续的数值，比如这里的年份可以近似看作是连续的。
分类问题是提供定性的输出，回归问题是提供定量的输出。


生活中的回归问题

房屋价格预测

输入一个房屋的地理位置、面积等特征
输出这个房屋的价格


气温预测

输入某个时刻
输出该时刻的气温





接下来，实验正式开始。

我们需要首先安装PrettyT ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/VM-performance-test/" title="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/27/wsl2_logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？"></a></div><div class="recent-post-info"><a class="article-title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/VM-performance-test/" title="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？">【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-27T07:00:20.000Z" title="发表于 2022-03-27 15:00:20">2022-03-27</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/">操作系统</a></span></div><div class="content">前言
这是操作系统课的一次作业，探究虚拟机的特性与运行效果。
什么是虚拟机？
虚拟机技术是一种在隔离环境中运行操作系统的技术，虚拟机便是通过软件模拟的具有完整硬件系统功能的、运行在一个完全隔离环境中的完整计算机系统。
中国IBM解释为：

虚拟机是物理计算机的虚拟表示形式或仿真环境。 虚拟机通常被称为访客机，而它们运行所在的物理计算机被称为主机。

虚拟化使人能够在一台物理计算机上创建多个虚拟机，每个虚拟机具有各自的操作系统 (OS) 和应用。虚拟机无法与物理计算机直接交互。 而是需要借助一个叫做虚拟机管理器的轻量级软件层，在它与底层物理硬件之间进行协调。虚拟机管理器将物理计算资源（例如处理器、内存和存储）分配给每个虚拟机。 它使虚拟机之间相互分离，从而互不干扰。
虚拟机有哪些？
目前的虚拟机主要分为两大类：Type1和Type2.
Type1虚拟机管理器直接在主机的物理硬件上运行，它被称为裸机虚拟机管理程序，它不必预先加载底层操作系统。通过直接访问底层硬件而无需其他软件(例如操作系统和设备驱动程序）。
Type2虚拟机管理器通常安装在现有操作系统之上，它称为托管虚拟机管理程序，因为它 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/tensorflow-opt/" title="【ASC超算教程】Tensorflow模型优化思路"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/26/tensorflow_logo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】Tensorflow模型优化思路"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/tensorflow-opt/" title="【ASC超算教程】Tensorflow模型优化思路">【ASC超算教程】Tensorflow模型优化思路</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T17:44:42.000Z" title="发表于 2022-03-26 01:44:42">2022-03-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/">Tensorflow</a></span></div><div class="content">Tensorflow模型优化思路
前言
近年来AI模型成为ASC竞赛选题的香饽饽，如2022年的三四两题分别是基于pytorch的大型语言模型，和基于tensorflow的分子动力学模型。AI模型的优化可以从许多方面入手，本文参考w3cub的文档Tensorflow Guide，对其翻译与总结，介绍Tensorflow框架的通用优化思路。
注意：本文所讲方法仅供参考，帮助大家打开思路。你可能会发现这些方法并不会有太大效果，甚至没有效果。如果想有所突破，必须靠自己深度阅读代码，对症下药。
输入流水线优化
典型的模型从磁盘检索数据并在通过网络发送数据之前对其进行预处理。例如，处理JPEG图像的模型将遵循以下流程：从磁盘加载图像，将JPEG解码为张量，裁剪和填充，可能会翻转和扭曲，然后批量处理。这个流程被称为输入流水线。随着GPU和其他硬件加速器变得更快，数据预处理可能成为瓶颈。
确定流水线是否是瓶颈可能很复杂。最简单的方法之一是在流水线之后将模型简化为单个操作（平凡模型）并每秒测量示例。如果整个模型和平凡模型的每秒示例差异最小，则流水线可能是瓶颈。以下是一些确定问题的其他方法：

通过运行 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/ASC-introduction/" title="【ASC超算教程】ASC竞赛快速入门"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/26/ASC_logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】ASC竞赛快速入门"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/ASC-introduction/" title="【ASC超算教程】ASC竞赛快速入门">【ASC超算教程】ASC竞赛快速入门</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T17:43:42.000Z" title="发表于 2022-03-26 01:43:42">2022-03-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a></span></div><div class="content">前言
《超算竞赛导引》是由赛事官方编写的指导书。本文就书中的一些有用、重点的内容作摘要整理，并根据笔者自身经验加以补充，以助刚入门的同学快速了解、上手超算竞赛。欲见详细内容请自行购买、借阅书籍。
ASC竞赛规则介绍
东南大学校赛规则
由于ASC是团队竞赛，因此我校每年会先举办校内个人选拔赛，题目即为本年ASC初赛赛题。参赛选手最终需要根据题目要求，提交一篇技术方案（Proposal），并进行答辩参与评选。校方从中选取十人组成主队与副队，代表东南大学正式参加ASC竞赛。队员们在校赛阶段的研究基础上做进一步研究，向ASC组委会提交最终的初赛Proposal和其他所需数据。
往年我校报名参加ASC竞赛的人数都很少，最终成功提交Proposal的人更是寥寥无几。因此只要有恒心有耐心坚持到底，基本上都可以进入校队参加决赛。
2014年初赛规则解析
初赛介绍
时间：2014年1月2日~2月27日上午9:00.
形式：竞赛评审委员会给定统一命题，竞赛组织委员会发送给报名参赛队伍，报名参赛队在规定时间内按命题要求提交书面方案和测试优化结果，由竞赛评审委员会统一评定入围决赛队伍。
初赛规则解析
(1)首 ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Proposal-writing/" title="【ASC超算教程】怎么写Proposal？"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/26/Proposal_logo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】怎么写Proposal？"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Proposal-writing/" title="【ASC超算教程】怎么写Proposal？">【ASC超算教程】怎么写Proposal？</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T17:43:42.000Z" title="发表于 2022-03-26 01:43:42">2022-03-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a></span></div><div class="content">前言
《超算竞赛导引》是由赛事官方编写的指导书。本文就书中的一些有用、重点的内容作摘要整理，并根据笔者自身经验加以补充，以助刚入门的同学快速了解、上手超算竞赛。欲见详细内容请自行购买、借阅书籍。
竞赛方案的要求将会随着竟赛细节的正式发布而公布。准备竞赛方案需要理论知识与实践动手能力的合理搭配。这份竞赛方案将被视为一份正式的设计报告，需清晰易懂地涵盖各种技术信息。竞赛报告应该包含不同的部分，以方便不同背景的读者阅读。
章节结构
竞赛方案应该包含主体部分和为主体提供补充说明的附录。对于概念、实验结果等信息，最好能用图表等更直观的方式表现出来，以帮助读者或者评委理解。
图表的呈现
接下来将介绍在方案中如何使用图表的形式将结果呈现出来。通过作图能够很好地反映出两个变量之间的关系(如加速比与CPU核数)。人们一般用x轴来表示自变量（如CPU核数），用y轴来表示因变量（如消耗时间）。坐标轴上应该标出尺度与单位来。图的范围应该以覆盖整个页面为宜。
在图表中使用合适的字体有助于更美观的信息呈现。图中的对象与字体一般用来表示某一主题以及解释一些想法与概念等。在使用线条时，应使用彼此之间易于区分的线条。例 ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Pytorch/pytorch-opt/" title="【ASC超算教程】pytorch模型优化思路"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/26/pytorch_logo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】pytorch模型优化思路"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Pytorch/pytorch-opt/" title="【ASC超算教程】pytorch模型优化思路">【ASC超算教程】pytorch模型优化思路</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T17:43:42.000Z" title="发表于 2022-03-26 01:43:42">2022-03-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a><i class="fas fa-angle-right article-meta-link"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Pytorch/">Pytorch</a></span></div><div class="content">PyTorch模型优化思路
前言
近年来AI模型成为ASC竞赛选题的香饽饽，如2022年的三四两题分别是基于pytorch的大型语言模型，和基于tensorflow的分子动力学模型。AI模型的优化可以从许多方面入手，本文参考Lorenze Kuhn的文章Here are 17 ways of making PyTorch training faster – what did I miss?，对其进行翻译和总结，介绍pytorch框架的通用优化思路。
注意：本文所讲方法仅供参考，帮助大家打开思路。你可能会发现这些方法并不会有太大效果，甚至没有效果。如果想有所突破，必须靠自己深度阅读代码，对症下药。
考虑换一种学习率
学习率对模型收敛速度和泛化能力有很大影响。Cyclical Learning Rates 和oneCycle learning rate 是 Leslie N. Smith提出的两种自适应学习率方法。（参见这里和这里）oneCycle learning rate schedule看起来像这样：

PyTorch实现了这两种方法:torch.optim.lr_scheduler ...</div></div></div><div class="recent-post-item"><div class="post_cover left"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/vimtutor/" title="【ASC超算教程】Vim的基本使用"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/26/vim_logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】Vim的基本使用"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/vimtutor/" title="【ASC超算教程】Vim的基本使用">【ASC超算教程】Vim的基本使用</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T17:22:42.000Z" title="发表于 2022-03-26 01:22:42">2022-03-26</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a></span></div><div class="content">vimtutor
vim指令教学
vimtutor Version 1.7 原文
本节对vimtutor进行翻译和精简。
非常推荐在一个命令行窗口敲入
1vimtutor
并跟着本教程一起开始旅行。
123456789101112131415161718192021222324================================================================================    W e l c o m e   t o   t h e   V I M   T u t o r    -    Version 1.7      ================================================================================     Vim is a very powerful editor that has many commands, too many to     explain in a tutor such as this.  This tutor is d ...</div></div></div><div class="recent-post-item"><div class="post_cover right"><a href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/linux-base/" title="【ASC超算教程】Linux基础"><img class="post_bg" src="https://img.zsaqwq.com/images/2022/03/25/linux_base_top.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】Linux基础"></a></div><div class="recent-post-info"><a class="article-title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/linux-base/" title="【ASC超算教程】Linux基础">【ASC超算教程】Linux基础</a><div class="article-meta-wrap"><span class="post-meta-date"><i class="far fa-calendar-alt"></i><span class="article-meta-label">发表于</span><time datetime="2022-03-25T15:01:42.000Z" title="发表于 2022-03-25 23:01:42">2022-03-25</time></span><span class="article-meta"><span class="article-meta-separator">|</span><i class="fas fa-inbox"></i><a class="article-meta__categories" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/">ASC超算竞赛教程</a></span></div><div class="content">导言
在超算竞赛中，我们主要以Linux为工作环境。原因有三：

题目指定的程序往往需要从源码编译安装，这在Linux系统中是基本操作，而在Windows系统中很难做到。
我们的程序往往需要大量计算资源和运行时间， 个人电脑一般无法胜任。因此大部分同学会选择自购服务器或者使用学校提供的超算节点。而服务器上的操作系统正常都是Linux。（哪怕可以选择安装Win系统，我们也不会这么做，因为Win系统占用资源远大于Linux的命令行系统）。
Linux系统配置开发环境相对比较简单（只是相对Win系统，并不代表他真的简单）

此外，如果以后接触计算机领域较多的话，使用Linux是不可避免的，迟早都要学，不如借助超算竞赛打打基础。
Linux系统的分类简介

debian：图形化界面，体积小，稳定性最高，安装包丰富，文档相对较少，但是适用于低配置的vps，128M内存就可以流畅运行debian，使用apt-get命令安装软件。
ubuntu：与debian有千丝万缕的关系，使用apt-get命令安装软件。学生接触的主要都是Desktop版，即有图形界面的系统，事实上Ubuntu Server 和 ...</div></div></div><nav id="pagination"><div class="pagination"><span class="page-number current">1</span></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://img.zsaqwq.com/images/2022/03/26/girl.jpg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">TideDra</div><div class="author-info__description">东南大学吴健雄学院在读本科生</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">文章</div><div class="length-num">10</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">标签</div><div class="length-num">11</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">分类</div><div class="length-num">6</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/TideDra"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/TideDra" target="_blank" title="Github"><i class="fab fa-github"></i></a><a class="social-icon" href="mailto:GearyZhang@outlook.com" target="_blank" title="Email"><i class="fas fa-envelope"></i></a><a class="social-icon" href="tencent://message/?uin=718525108&amp;Site=&amp;Menu=yes" target="_blank" title="QQ"><i class="fa-brands fa-qq"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">欢迎来到我的博客！<br />东南大学超算平台上线啦！欢迎点击:<a target="_blank" rel="noopener" href="https://cswu-challenge.github.io/"><input type=button value="东南大学超算平台"></a></div></div><div class="sticky_layout"><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp2/" title="【机器学习】入门ML？跟着做这几个实验足矣！（二）"><img src="https://myblog-1308049971.cos.ap-nanjing.myqcloud.com/ML_exp1_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器学习】入门ML？跟着做这几个实验足矣！（二）"/></a><div class="content"><a class="title" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp2/" title="【机器学习】入门ML？跟着做这几个实验足矣！（二）">【机器学习】入门ML？跟着做这几个实验足矣！（二）</a><time datetime="2022-03-29T16:59:36.000Z" title="发表于 2022-03-30 00:59:36">2022-03-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/md-recommand/" title="这么多Markdown编辑器，我最终选择了它~"><img src="https://myblog-1308049971.cos.ap-nanjing.myqcloud.com/md_recommand_cover.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="这么多Markdown编辑器，我最终选择了它~"/></a><div class="content"><a class="title" href="/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/md-recommand/" title="这么多Markdown编辑器，我最终选择了它~">这么多Markdown编辑器，我最终选择了它~</a><time datetime="2022-03-28T13:46:33.000Z" title="发表于 2022-03-28 21:46:33">2022-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp1/" title="【机器学习】入门ML？跟着做这几个实验足矣！（一）"><img src="https://img.zsaqwq.com/images/2022/03/28/ML_exp1_cover.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【机器学习】入门ML？跟着做这几个实验足矣！（一）"/></a><div class="content"><a class="title" href="/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/ML-exp1/" title="【机器学习】入门ML？跟着做这几个实验足矣！（一）">【机器学习】入门ML？跟着做这几个实验足矣！（一）</a><time datetime="2022-03-28T07:48:41.000Z" title="发表于 2022-03-28 15:48:41">2022-03-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/VM-performance-test/" title="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？"><img src="https://img.zsaqwq.com/images/2022/03/27/wsl2_logo.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？"/></a><div class="content"><a class="title" href="/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/VM-performance-test/" title="【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？">【操作系统】虚拟机（WSL2）的性能相比真机缩水了多少？</a><time datetime="2022-03-27T07:00:20.000Z" title="发表于 2022-03-27 15:00:20">2022-03-27</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/tensorflow-opt/" title="【ASC超算教程】Tensorflow模型优化思路"><img src="https://img.zsaqwq.com/images/2022/03/26/tensorflow_logo.jpg" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="【ASC超算教程】Tensorflow模型优化思路"/></a><div class="content"><a class="title" href="/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/tensorflow-opt/" title="【ASC超算教程】Tensorflow模型优化思路">【ASC超算教程】Tensorflow模型优化思路</a><time datetime="2022-03-25T17:44:42.000Z" title="发表于 2022-03-26 01:44:42">2022-03-26</time></div></div></div></div><div class="card-widget card-categories"><div class="item-headline">
            <i class="fas fa-folder-open"></i>
            <span>分类</span>
            
            </div>
            <ul class="card-category-list" id="aside-cat-list">
            <li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/"><span class="card-category-list-name">ASC超算竞赛教程</span><span class="card-category-list-count">6</span></a><ul class="card-category-list child"><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Pytorch/"><span class="card-category-list-name">Pytorch</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/ASC%E8%B6%85%E7%AE%97%E7%AB%9E%E8%B5%9B%E6%95%99%E7%A8%8B/Tensorflow/"><span class="card-category-list-name">Tensorflow</span><span class="card-category-list-count">1</span></a></li></ul></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"><span class="card-category-list-name">操作系统</span><span class="card-category-list-count">1</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/"><span class="card-category-list-name">机器学习</span><span class="card-category-list-count">2</span></a></li><li class="card-category-list-item "><a class="card-category-list-link" href="/categories/%E8%BD%AF%E4%BB%B6%E6%8E%A8%E8%8D%90/"><span class="card-category-list-name">软件推荐</span><span class="card-category-list-count">1</span></a></li>
            </ul></div><div class="card-widget card-tags"><div class="item-headline"><i class="fas fa-tags"></i><span>标签</span></div><div class="card-tag-cloud"><a href="/tags/ASC%E7%AB%9E%E8%B5%9B/" style="font-size: 1.45em; color: rgb(85, 93, 178)">ASC竞赛</a><a href="/tags/%E6%9C%BA%E5%99%A8%E5%AD%A6%E4%B9%A0/" style="font-size: 1.3em; color: rgb(14, 8, 156)">机器学习</a><a href="/tags/Linux/" style="font-size: 1.3em; color: rgb(168, 49, 121)">Linux</a><a href="/tags/Markdown/" style="font-size: 1.15em; color: rgb(29, 56, 125)">Markdown</a><a href="/tags/%E8%BD%AF%E4%BB%B6/" style="font-size: 1.15em; color: rgb(114, 27, 54)">软件</a><a href="/tags/Tensorflow/" style="font-size: 1.15em; color: rgb(3, 69, 33)">Tensorflow</a><a href="/tags/AI/" style="font-size: 1.3em; color: rgb(169, 54, 200)">AI</a><a href="/tags/Vim/" style="font-size: 1.15em; color: rgb(124, 159, 42)">Vim</a><a href="/tags/%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/" style="font-size: 1.15em; color: rgb(158, 196, 7)">操作系统</a><a href="/tags/WSL2/" style="font-size: 1.15em; color: rgb(69, 151, 168)">WSL2</a><a href="/tags/Pytorch/" style="font-size: 1.15em; color: rgb(82, 30, 155)">Pytorch</a></div></div><div class="card-widget card-archives"><div class="item-headline"><i class="fas fa-archive"></i><span>归档</span></div><ul class="card-archive-list"><li class="card-archive-list-item"><a class="card-archive-list-link" href="/archives/2022/03/"><span class="card-archive-list-date">三月 2022</span><span class="card-archive-list-count">10</span></a></li></ul></div><div class="card-widget card-webinfo"><div class="item-headline"><i class="fas fa-chart-line"></i><span>网站资讯</span></div><div class="webinfo"><div class="webinfo-item"><div class="item-name">文章数目 :</div><div class="item-count">10</div></div><div class="webinfo-item"><div class="item-name">本站访客数 :</div><div class="item-count" id="busuanzi_value_site_uv"></div></div><div class="webinfo-item"><div class="item-name">本站总访问量 :</div><div class="item-count" id="busuanzi_value_site_pv"></div></div><div class="webinfo-item"><div class="item-name">最后更新时间 :</div><div class="item-count" id="last-push-date" data-lastPushDate="2022-03-30T01:42:33.972Z"></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('https://img.zsaqwq.com/images/2022/03/26/footer.png')"><div id="footer-wrap"><div class="copyright">&copy;2022 By TideDra</div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://www.tidedra.top/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">Algolia</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr/><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-stats"></div></div></div></div><div id="search-mask"></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instant.page/instantpage.min.js" type="module"></script><script src="https://cdn.jsdelivr.net/npm/node-snackbar/dist/snackbar.min.js"></script><script src="https://cdn.jsdelivr.net/npm/algoliasearch@4/dist/algoliasearch-lite.umd.js"></script><script src="https://cdn.jsdelivr.net/npm/instantsearch.js@4/dist/instantsearch.production.min.js"></script><script src="/js/search/algolia.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"><script>function subtitleType () {
  fetch('https://v1.hitokoto.cn')
    .then(response => response.json())
    .then(data => {
      if (true) {
        const from = '出自 ' + data.from
        const sub = ["既来之&#44;则安之。"]
        sub.unshift(data.hitokoto, from)
        window.typed = new Typed('#subtitle', {
          strings: sub,
          startDelay: 300,
          typeSpeed: 150,
          loop: true,
          backSpeed: 50,
        })
      } else {
        document.getElementById('subtitle').innerHTML = data.hitokoto
      }
    })
}

if (true) {
  if (typeof Typed === 'function') {
    subtitleType()
  } else {
    getScript('https://cdn.jsdelivr.net/npm/typed.js/lib/typed.min.js').then(subtitleType)
  }
} else {
  subtitleType()
}
</script></div><script src="https://cdn.jsdelivr.net/npm/pjax/pjax.min.js"></script><script>let pjaxSelectors = ["title","#config-diff","#body-wrap","#rightside-config-hide","#rightside-config-show",".js-pjax"]

var pjax = new Pjax({
  elements: 'a:not([target="_blank"])',
  selectors: pjaxSelectors,
  cacheBust: false,
  analytics: false,
  scrollRestoration: false
})

document.addEventListener('pjax:send', function () {

  // removeEventListener scroll 
  window.tocScrollFn && window.removeEventListener('scroll', window.tocScrollFn)
  window.scrollCollect && window.removeEventListener('scroll', scrollCollect)

  typeof preloader === 'object' && preloader.initLoading()
  document.getElementById('rightside').style.cssText = "opacity: ''; transform: ''"
  
  if (window.aplayers) {
    for (let i = 0; i < window.aplayers.length; i++) {
      if (!window.aplayers[i].options.fixed) {
        window.aplayers[i].destroy()
      }
    }
  }

  typeof typed === 'object' && typed.destroy()

  //reset readmode
  const $bodyClassList = document.body.classList
  $bodyClassList.contains('read-mode') && $bodyClassList.remove('read-mode')

})

document.addEventListener('pjax:complete', function () {
  window.refreshFn()

  document.querySelectorAll('script[data-pjax]').forEach(item => {
    const newScript = document.createElement('script')
    const content = item.text || item.textContent || item.innerHTML || ""
    Array.from(item.attributes).forEach(attr => newScript.setAttribute(attr.name, attr.value))
    newScript.appendChild(document.createTextNode(content))
    item.parentNode.replaceChild(newScript, item)
  })

  GLOBAL_CONFIG.islazyload && window.lazyLoadInstance.update()

  typeof chatBtnFn === 'function' && chatBtnFn()
  typeof panguInit === 'function' && panguInit()

  // google analytics
  typeof gtag === 'function' && gtag('config', '', {'page_path': window.location.pathname});

  // baidu analytics
  typeof _hmt === 'object' && _hmt.push(['_trackPageview',window.location.pathname]);

  typeof loadMeting === 'function' && document.getElementsByClassName('aplayer').length && loadMeting()

  // prismjs
  typeof Prism === 'object' && Prism.highlightAll()

  typeof preloader === 'object' && preloader.endLoading()
})

document.addEventListener('pjax:error', (e) => {
  if (e.request.status === 404) {
    pjax.loadUrl('/404.html')
  }
})</script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>